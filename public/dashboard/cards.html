<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <link
      rel="shortcut icon"
      href="../assets/icon/favicon.ico"
      type="image/x-icon"
    />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>card</title>
    <link rel="stylesheet" href="style_dash.css" />
    <script src="../js/funcoes.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
  </head>

  <body onload="validarSessao(), atualizacaoPeriodica()">
    <div class="janela">
      <div class="header-left dash-header">
        <h1>Dashboard</h1>

        <div class="hello">
          <h3>
            Olá, <span id="b_usuario">usuário</span>! <br /><br />
            Vi que seu album favorito é <span id="b_usuario_album">album</span>
          </h3>
        </div>

        <div class="btn-nav">

          <h3>Gráficos</h3>

      </div>

        <div class="btn-logout" onclick="limparSessao()">
          <h3>Sair</h3>
        </div>
      </div>

      <div class="dash">
        <div class="regua">
          <div class="item-regua perigo-frio">
            <!-- <h4>Perigo</h4> -->
            <h2>18</h2>
          </div>
          <div class="item-regua alerta-frio">
            <!-- <h4>Alerta</h4> -->
            <h2>19 | 22</h2>
          </div>
          <div class="item-regua ideal">
            <!-- <h4>Ideal</h4> -->
            <h2>23 | 27</h2>
          </div>
          <div class="item-regua alerta-quente">
            <!-- <h4>Alerta</h4> -->
            <h2>28 | 32</h2>
          </div>
          <div class="item-regua perigo-quente">
            <!-- <h4>Perigo</h4> -->
            <h2>35</h2>
          </div>
        </div>

        <div class="cards">
          <div class="card">
            <h1>Please Please Me</h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_1"></p> -->
              <img
                class="tamanho_album"
                src="../assets/imgs/albums/please_please_me.jpg"
                alt=""
              />
            </div>
            <div class="cor-alerta" id="card_1"></div>
          </div>
          <div class="card">
            <h1>With The Beatles</h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_2"></p> -->
              <img
                class="tamanho_album"
                src="../assets/imgs/albums/with_the_beatles.jpg"
                alt=""
              />
            </div>
            <div class="cor-alerta" id="card_2"></div>
          </div>
          <div class="card">
            <h1>A Hard Day's Night</h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_3"></p> -->
              <img
                class="tamanho_album"
                src="../assets/imgs/albums/a_hard_days_night.jpg"
                alt=""
              />
            </div>
            <div class="cor-alerta" id="card_3"></div>
          </div>
          <div class="card">
            <h1>Beatles For Sale</h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_4"></p> -->
              <img
              class="tamanho_album"
              src="../assets/imgs/albums/beatles_for_sale.jpg"
              alt=""
            />
            </div>
            <div class="cor-alerta" id="card_4"></div>
          </div>
          <div class="card">
            <h1>Help!</h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_5"></p> -->
              <img
              class="tamanho_album"
              src="../assets/imgs/albums/help.jpg"
              alt=""
            />
            </div>
            <div class="cor-alerta" id="card_5"></div>
          </div>
          <div class="card">
            <h1>Rubber Soul </h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_6"></p> -->
              <img
              class="tamanho_album"
              src="../assets/imgs/albums/rubber_soul.jpg"
              alt=""
            />
            </div>
            <div class="cor-alerta" id="card_6"></div>
          </div>
          <div class="card">
            <h1>Revolver</h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_7"></p> -->
                <img
                class="tamanho_album"
                src="../assets/imgs/albums/revolver.jpg"
                alt=""
              />
            </div>
            <div class="cor-alerta" id="card_7"></div>
          </div>
          <div class="card">
            <h1>Sgt.Pepper's Lonely Hearts Club Band</h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_8"></p> -->
              <img
              class="tamanho_album"
              src="../assets/imgs/albums/sgt_peppers.jpg"
              alt=""
            />
            </div>
            <div class="cor-alerta" id="card_8"></div>
          </div>
          <div class="card">
            <h1>Magical Mystery Tour</h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_9"></p> -->
              <img
              class="tamanho_album"
              src="../assets/imgs/albums/magical_mystery_tour.jpg"
              alt=""
            />
            </div>
            <div class="cor-alerta" id="card_9"></div>
          </div>
          <div class="card">
            <h1>The Beatles - White album</h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_10"></p> -->
              <img
              class="tamanho_album"
              src="../assets/imgs/albums/white_album.jpg"
              alt=""
            />
            </div>
            <div class="cor-alerta" id="card_10"></div>
          </div>
          <div class="card">
            <h1>Yellow Submarine</h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_11"></p> -->
              <img
              class="tamanho_album"
              src="../assets/imgs/albums/yellow_submarine.jpg"
              alt=""
            />
            </div>
            <div class="cor-alerta" id="card_11"></div>
          </div>
          <div class="card">
            <h1>Abbey Road </h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_12"></p> -->
              <img
              class="tamanho_album"
              src="../assets/imgs/albums/abbey_road.jpg"
              alt=""
            />
            </div>
            <div class="cor-alerta" id="card_12"></div>
          </div>
          <div class="card">
            <h1>Let It Be </h1>
            <div class="capa_album">
              <!-- <p id="temp_aquario_13"></p> -->
              <img
              class="tamanho_album"
              src="../assets/imgs/albums/let_it_be.jpg"
              alt=""
            />
            </div>
            <div class="cor-alerta" id="card_13"></div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script>
    // function atualizacaoPeriodica() {
    //   obterdados(1);
    //   obterdados(2);
    //   obterdados(3);
    //   obterdados(4);

    //   function sendData() {
    //     var http = new XMLHttpRequest();
    //     http.open("POST", "http://localhost:3000/api/sendData", false);
    //     http.send(null);
    //   }

    //   setInterval(() => {
    //     sendData();
    //   }, 2000);
    //   setTimeout(atualizacaoPeriodica, 5000);
    // }

    // function obterdados(idAquario) {
    //   fetch(`/medidas/tempo-real/${idAquario}`)
    //     .then((resposta) => {
    //       if (resposta.ok) {
    //         resposta.json().then((resposta) => {
    //           console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);

    //           var dados = {
    //             temperatura: resposta[0].temperatura,
    //           };

    //           alertar(resposta[0].temperatura, idAquario);
    //         });
    //       } else {
    //         console.error("Nenhum dado encontrado ou erro na API");
    //       }
    //     })
    //     .catch(function (error) {
    //       console.error(
    //         `Erro na obtenção dos dados do aquario p/ gráfico: ${error.message}`
    //       );
    //     });
    // }

    // function alertar(temperatura, idAquario) {
    //   var limites = {
    //     muito_quente: 23,
    //     quente: 22,
    //     ideal: 20,
    //     frio: 10,
    //     muito_frio: 5,
    //   };

    //   var classe_temperatura = "cor-alerta";

    //   if (temperatura >= limites.muito_quente) {
    //     classe_temperatura = "cor-alerta perigo-quente";
    //     console.log("caiu no 1");
    //   } else if (
    //     temperatura < limites.muito_quente &&
    //     temperatura >= limites.quente
    //   ) {
    //     classe_temperatura = "cor-alerta alerta-quente";
    //     console.log("caiu no 2");
    //   } else if (temperatura < limites.quente && temperatura > limites.frio) {
    //     classe_temperatura = "cor-alerta ideal";
    //     console.log("caiu no 3");
    //   } else if (
    //     temperatura <= limites.frio &&
    //     temperatura > limites.muito_frio
    //   ) {
    //     classe_temperatura = "cor-alerta alerta-frio";
    //     console.log("caiu no 4");
    //   } else if (temperatura < limites.min_temperatura) {
    //     classe_temperatura = "cor-alerta perigo-frio";
    //     console.log("caiu no 5");
    //   }

    //   var card;

    //   if (idAquario == 1) {
    //     temp_aquario_1.innerHTML = temperatura + "°C";
    //     card = card_1;
    //   } else if (idAquario == 2) {
    //     temp_aquario_2.innerHTML = temperatura + "°C";
    //     card = card_2;
    //   } else if (idAquario == 3) {
    //     temp_aquario_3.innerHTML = temperatura + "°C";
    //     card = card_3;
    //   } else if (idAquario == 4) {
    //     temp_aquario_4.innerHTML = temperatura + "°C";
    //     card = card_4;
    //   }

    //   // alterando
    //   card.className = classe_temperatura;
    // }
  </script>
</html>
